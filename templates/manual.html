<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìñ Manual de Usuario - dy ESG</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/manual.css') }}">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìñ</text></svg>">
</head>
<body>
    <div class="manual-container">
        <!-- Header -->
        <header class="manual-header">
            <div class="header-content">
                <h1>üìñ Manual de Usuario</h1>
                <p class="subtitle">Painani del Conocmiento - Escuela Superior de Guerra</p>
                <a href="/" class="btn-back">‚Üê Volver al Juego</a>
            </div>
        </header>

        <!-- Navegaci√≥n -->
        <nav class="manual-nav">
            <a href="#inicio" class="nav-item active">üè† Inicio</a>
            <a href="#requisitos" class="nav-item">‚úÖ Requisitos</a>
            <a href="#instalacion" class="nav-item">‚öôÔ∏è Instalaci√≥n</a>
            <a href="#crear-preguntas" class="nav-item">üìù Crear Preguntas</a>
            <a href="#imagenes" class="nav-item">üñºÔ∏è Im√°genes</a>
            <a href="#mosaico" class="nav-item">üß© Mosaico</a>
            <a href="#jugar" class="nav-item">üéÆ C√≥mo Jugar</a>
        </nav>

        <!-- Contenido -->
        <main class="manual-content">
            <!-- Secci√≥n: Inicio -->
            <section id="inicio" class="manual-section">
                <h2>üè† Bienvenido</h2>
                <div class="card">
                    <p class="intro">
                        ¬°Bienvenido al sistema de Painani del Conocimiento de la Escuela Superior de Guerra! 
                        Este manual te guiar√° paso a paso para configurar y jugar.
                    </p>
                    <div class="features-grid">
                        <div class="feature">
                            <div class="feature-icon">üë•</div>
                            <h3>Hasta 10 equipos</h3>
                            <p>Configura entre 2 y 10 equipos al instante</p>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">üì±</div>
                            <h3>Multi-dispositivo</h3>
                            <p>Juega desde PC, tablet o m√≥vil</p>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">üñºÔ∏è</div>
                            <h3>Con Im√°genes</h3>
                            <p>Soporte completo para preguntas visuales</p>
                        </div>
                        <div class="feature">
                            <div class="feature-icon">üß©</div>
                            <h3>Mosaico</h3>
                            <p>Revela una imagen al completar el juego</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Secci√≥n: Requisitos -->
            <section id="requisitos" class="manual-section">
                <h2>‚úÖ Requisitos del Sistema</h2>
                <div class="card">
                    <h3>Software Necesario:</h3>
                    <ul class="checklist">
                        <li>‚úì Python 3.8 o superior</li>
                        <li>‚úì Navegador web moderno (Chrome, Firefox, Edge)</li>
                        <li>‚úì Conexi√≥n de red local (para multijugador)</li>
                    </ul>

                    <h3 style="margin-top: 30px;">Hardware M√≠nimo:</h3>
                    <ul class="checklist">
                        <li>‚úì Procesador: Dual-core 2GHz</li>
                        <li>‚úì RAM: 2GB</li>
                        <li>‚úì Espacio: 100MB libres</li>
                    </ul>
                </div>
            </section>

            <!-- Secci√≥n: Instalaci√≥n -->
            <section id="instalacion" class="manual-section">
                <h2>‚öôÔ∏è Instalaci√≥n</h2>
                
                <div class="card step-card">
                    <div class="step-number">1</div>
                    <h3>Descargar el Proyecto</h3>
                    <p>Descarga o clona el proyecto en tu computadora.</p>
                    <div class="code-block">
                        <code>git clone [URL del proyecto]</code>
                    </div>
                </div>

                <div class="card step-card">
                    <div class="step-number">2</div>
                    <h3>Instalar Dependencias</h3>
                    <p>Abre una terminal en la carpeta del proyecto y ejecuta:</p>
                    <div class="code-block">
                        <code>pip install -r requirements.txt</code>
                    </div>
                </div>

                <div class="card step-card">
                    <div class="step-number">3</div>
                    <h3>Iniciar el Servidor</h3>
                    <p>Ejecuta el siguiente comando:</p>
                    <div class="code-block">
                        <code>python app.py</code>
                    </div>
                </div>

                <div class="card step-card">
                    <div class="step-number">4</div>
                    <h3>Abrir en el Navegador</h3>
                    <p>Visita en tu navegador:</p>
                    <div class="code-block">
                        <code>http://localhost:5000</code>
                    </div>
                </div>

                <div class="alert alert-info">
                    <strong>üí° Consejo:</strong> Para jugar en red local, otros dispositivos deben usar 
                    <code>http://[IP-del-servidor]:5000</code>
                </div>
            </section>

            <!-- Secci√≥n: Crear Preguntas -->
            <section id="crear-preguntas" class="manual-section">
                <h2>üìù Crear Banco de Preguntas</h2>
                
                <div class="card">
                    <h3>Formato CSV (Recomendado)</h3>
                    <p>Crea un archivo Excel o CSV con las siguientes columnas:</p>
                    
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Columna</th>
                                    <th>Descripci√≥n</th>
                                    <th>Ejemplo</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>idpregunta</code></td>
                                    <td>N√∫mero √∫nico</td>
                                    <td>1, 2, 3...</td>
                                </tr>
                                <tr>
                                    <td><code>category</code></td>
                                    <td>Categor√≠a</td>
                                    <td>Historia, Ciencia</td>
                                </tr>
                                <tr>
                                    <td><code>value</code></td>
                                    <td>Puntos</td>
                                    <td>100, 200, 300, 400, 500</td>
                                </tr>
                                <tr>
                                    <td><code>question</code></td>
                                    <td>La pregunta</td>
                                    <td>¬øCu√°l es la capital?</td>
                                </tr>
                                <tr>
                                    <td><code>choice_a</code></td>
                                    <td>Opci√≥n A</td>
                                    <td>Par√≠s</td>
                                </tr>
                                <tr>
                                    <td><code>choice_b</code></td>
                                    <td>Opci√≥n B</td>
                                    <td>Londres</td>
                                </tr>
                                <tr>
                                    <td><code>choice_c</code></td>
                                    <td>Opci√≥n C</td>
                                    <td>Madrid</td>
                                </tr>
                                <tr>
                                    <td><code>choice_d</code></td>
                                    <td>Opci√≥n D</td>
                                    <td>Roma</td>
                                </tr>
                                <tr>
                                    <td><code>answer</code></td>
                                    <td>Correcta</td>
                                    <td>a, b, c, d (o 0, 1, 2, 3)</td>
                                </tr>
                                <tr>
                                    <td><code>imagen</code></td>
                                    <td>¬øTiene imagen?</td>
                                    <td>si o no</td>
                                </tr>
                                <tr>
                                    <td><code>nombre_imagen</code></td>
                                    <td>Archivo</td>
                                    <td>foto1.jpg</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <h3>Ejemplo Completo:</h3>
                    <div class="code-block">
<code>idpregunta,category,value,question,choice_a,choice_b,choice_c,choice_d,answer,imagen,nombre_imagen
1,Historia,100,¬øQui√©n descubri√≥ Am√©rica?,Col√≥n,Magallanes,Vespucio,Cort√©s,a,no,
2,Geograf√≠a,200,¬øQu√© pa√≠s es?,M√©xico,Brasil,Argentina,Chile,a,si,pais1.jpg</code>
                    </div>
                </div>

                <div class="alert alert-success">
                    <strong>‚ú® Recomendaci√≥n:</strong> Crea al menos 20 preguntas por categor√≠a 
                    para tener variedad en cada juego.
                </div>
            </section>

            <!-- Secci√≥n: Im√°genes -->
            <section id="imagenes" class="manual-section">
                <h2>üñºÔ∏è Agregar Im√°genes a las Preguntas</h2>
                
                <div class="card step-card">
                    <div class="step-number">1</div>
                    <h3>Crear la Carpeta</h3>
                    <p>Dentro de la carpeta <code>data/</code>, crea una carpeta con el <strong>mismo nombre</strong> que tu archivo CSV (sin extensi√≥n).</p>
                    <div class="example-box">
                        <strong>Ejemplo:</strong><br>
                        Si tu archivo se llama <code>preguntas_historia.csv</code><br>
                        Crea la carpeta: <code>data/preguntas_historia/</code>
                    </div>
                </div>

                <div class="card step-card">
                    <div class="step-number">2</div>
                    <h3>Copiar las Im√°genes</h3>
                    <p>Coloca todas tus im√°genes dentro de esa carpeta.</p>
                    <div class="folder-structure">
                        <div class="folder">üìÅ data/</div>
                        <div class="folder indent">üìÑ preguntas_historia.csv</div>
                        <div class="folder indent">üìÅ preguntas_historia/</div>
                        <div class="folder indent2">üñºÔ∏è bolivar.jpg</div>
                        <div class="folder indent2">üñºÔ∏è batalla.png</div>
                        <div class="folder indent2">üñºÔ∏è mapa.jpg</div>
                    </div>
                </div>

                <div class="card step-card">
                    <div class="step-number">3</div>
                    <h3>Configurar el CSV</h3>
                    <p>En tu archivo CSV, marca las preguntas con imagen:</p>
                    <div class="code-block">
<code>...,answer,imagen,nombre_imagen
...,a,si,bolivar.jpg
...,b,si,batalla.png
...,c,no,</code>
                    </div>
                </div>

                <div class="alert alert-info">
                    <strong>üìê Formatos soportados:</strong> JPG, PNG, GIF, WebP<br>
                    <strong>üìè Tama√±o recomendado:</strong> 800x600 p√≠xeles, menos de 500KB
                </div>
            </section>

            <!-- Secci√≥n: Mosaico -->
            <section id="mosaico" class="manual-section">
                <h2>üß© Crear el Mosaico Revelador</h2>
                
                <div class="card">
                    <h3>¬øQu√© es el Mosaico?</h3>
                    <p class="highlight-text">
                        El mosaico es una imagen oculta que se revela progresivamente conforme 
                        los equipos responden correctamente. ¬°Es una sorpresa emocionante al final!
                    </p>
                </div>

                <div class="card step-card">
                    <div class="step-number">1</div>
                    <h3>Preparar la Imagen</h3>
                    <p>Elige una imagen significativa:</p>
                    <ul>
                        <li>‚úì Escudo institucional</li>
                        <li>‚úì Logo del evento</li>
                        <li>‚úì Monumento emblem√°tico</li>
                        <li>‚úì Bandera nacional</li>
                    </ul>
                </div>

                <div class="card step-card">
                    <div class="step-number">2</div>
                    <h3>Nombrar el Archivo</h3>
                    <p>El archivo DEBE llamarse exactamente:</p>
                    <div class="code-block important">
                        <code>MOSAICO.jpg</code> o <code>MOSAICO.png</code>
                    </div>
                    <div class="alert alert-warning">
                        ‚ö†Ô∏è <strong>Importante:</strong> El nombre debe estar en MAY√öSCULAS
                    </div>
                </div>

                <div class="card step-card">
                    <div class="step-number">3</div>
                    <h3>Colocar en la Carpeta</h3>
                    <p>Coloca el archivo en la misma carpeta que las im√°genes:</p>
                    <div class="folder-structure">
                        <div class="folder">üìÅ data/</div>
                        <div class="folder indent">üìÅ preguntas_historia/</div>
                        <div class="folder indent2">üñºÔ∏è bolivar.jpg</div>
                        <div class="folder indent2">üñºÔ∏è batalla.png</div>
                        <div class="folder indent2 highlight">üé® MOSAICO.jpg ‚Üê ¬°Aqu√≠!</div>
                    </div>
                </div>

                <div class="card">
                    <h3>Especificaciones T√©cnicas:</h3>
                    <div class="specs-grid">
                        <div class="spec-item">
                            <strong>Formato:</strong> JPG o PNG
                        </div>
                        <div class="spec-item">
                            <strong>Tama√±o:</strong> 1000x1000 p√≠xeles (cuadrada)
                        </div>
                        <div class="spec-item">
                            <strong>Peso:</strong> Menos de 1MB
                        </div>
                        <div class="spec-item">
                            <strong>Contenido:</strong> Dise√±o simple y reconocible
                        </div>
                    </div>
                </div>

                <div class="alert alert-success">
                    <strong>‚ú® Efecto Visual:</strong> Cuando un equipo responde correctamente, 
                    se revela una pieza del mosaico. ¬°Al completar todas las preguntas, 
                    la imagen completa aparece en el centro con confetti! üéâ
                </div>
            </section>

            <!-- Secci√≥n: C√≥mo Jugar -->
            <section id="jugar" class="manual-section">
                <h2>üéÆ C√≥mo Jugar</h2>
                
                <div class="card step-card">
                    <div class="step-number">1</div>
                    <h3>Cargar las Preguntas</h3>
                    <p>En el juego, haz clic en el bot√≥n <strong>"üìÇ Cargar"</strong> y selecciona tu archivo CSV.</p>
                </div>

                <div class="card step-card">
                    <div class="step-number">2</div>
                    <h3>Seleccionar una Pregunta</h3>
                    <p>Haz clic en cualquier casilla del tablero para abrir la pregunta.</p>
                </div>

                <div class="card step-card">
                    <div class="step-number">3</div>
                    <h3>Presionar el Buzzer</h3>
                    <p>El primer equipo en presionar su bot√≥n gana el turno. Usa el teclado (1-9 y 0) para los equipos 1 al 10.</p>
                    <div class="keyboard-shortcuts">
                        <div class="shortcut">
                            <kbd>1</kbd> <span>Equipo 1</span>
                        </div>
                        <div class="shortcut">
                            <kbd>2</kbd> <span>Equipo 2</span>
                        </div>
                        <div class="shortcut">
                            <kbd>3</kbd> <span>Equipo 3</span>
                        </div>
                        <div class="shortcut">
                            <kbd>4</kbd> <span>Equipo 4</span>
                        </div>
                        <div class="shortcut">
                            <kbd>5</kbd> <span>Equipo 5</span>
                        </div>
                        <div class="shortcut">
                            <kbd>6</kbd> <span>Equipo 6</span>
                        </div>
                        <div class="shortcut">
                            <kbd>7</kbd> <span>Equipo 7</span>
                        </div>
                        <div class="shortcut">
                            <kbd>8</kbd> <span>Equipo 8</span>
                        </div>
                        <div class="shortcut">
                            <kbd>9</kbd> <span>Equipo 9</span>
                        </div>
                        <div class="shortcut">
                            <kbd>0</kbd> <span>Equipo 10</span>
                        </div>
                    </div>
                </div>

                <div class="card step-card">
                    <div class="step-number">4</div>
                    <h3>Responder</h3>
                    <p>El equipo tiene 10 segundos para seleccionar y enviar su respuesta.</p>
                    <div class="keyboard-shortcuts">
                        <div class="shortcut">
                            <kbd>A</kbd><kbd>B</kbd><kbd>C</kbd><kbd>D</kbd> 
                            <span>Seleccionar opci√≥n</span>
                        </div>
                        <div class="shortcut">
                            <kbd>Enter</kbd> <span>Enviar respuesta</span>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>Sistema de Puntaje:</h3>
                    <div class="scoring-rules">
                        <div class="rule correct">
                            <strong>‚úÖ Respuesta Correcta:</strong> Se suma el valor de la pregunta
                        </div>
                        <div class="rule incorrect">
                            <strong>‚ùå Respuesta Incorrecta:</strong> Se resta el valor + Otro equipo puede intentar
                        </div>
                        <div class="rule timeout">
                            <strong>‚è∞ Tiempo Agotado:</strong> Se resta el valor + Pasa al siguiente equipo
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>Funciones Especiales:</h3>
                    <ul class="features-list">
                        <li><strong>üîí Ocultar Respuestas:</strong> Modo moderador para preguntas abiertas</li>
                        <li><strong>‚öôÔ∏è Ajustar Puntajes:</strong> Clic derecho sobre un equipo para correcciones</li>
                        <li><strong>üîÑ Reiniciar:</strong> Comienza un nuevo juego desde cero</li>
                        <li><strong>‚ùå Cancelar:</strong> Presiona ESC para saltar una pregunta</li>
                    </ul>
                </div>
            </section>

            <!-- Secci√≥n de Ayuda R√°pida -->
            <section id="ayuda" class="manual-section">
                <h2>‚ùì Soluci√≥n de Problemas</h2>
                
                <div class="card faq-card">
                    <h4>P: Las im√°genes no se ven</h4>
                    <p><strong>R:</strong> Verifica que:</p>
                    <ul>
                        <li>‚úì La carpeta tenga el mismo nombre que el CSV</li>
                        <li>‚úì Los nombres de archivo coincidan exactamente</li>
                        <li>‚úì Las im√°genes est√©n en formato JPG o PNG</li>
                    </ul>
                </div>

                <div class="card faq-card">
                    <h4>P: El mosaico no aparece</h4>
                    <p><strong>R:</strong> Aseg√∫rate de que:</p>
                    <ul>
                        <li>‚úì El archivo se llame exactamente <code>MOSAICO.jpg</code> (may√∫sculas)</li>
                        <li>‚úì Est√© en la carpeta correcta</li>
                        <li>‚úì Sea una imagen cuadrada</li>
                    </ul>
                </div>

                <div class="card faq-card">
                    <h4>P: No puedo conectar desde otro dispositivo</h4>
                    <p><strong>R:</strong> Verifica:</p>
                    <ul>
                        <li>‚úì Ambos dispositivos est√©n en la misma red WiFi</li>
                        <li>‚úì Usar la IP correcta del servidor</li>
                        <li>‚úì El firewall no bloquee el puerto 5000</li>
                    </ul>
                </div>

                <div class="card faq-card">
                    <h4>P: El archivo CSV da error al cargar</h4>
                    <p><strong>R:</strong> Revisa que:</p>
                    <ul>
                        <li>‚úì Todas las columnas est√©n presentes</li>
                        <li>‚úì No haya filas vac√≠as</li>
                        <li>‚úì Los IDs sean √∫nicos</li>
                        <li>‚úì Las respuestas sean a, b, c, d (o 0-3)</li>
                    </ul>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="manual-footer">
            <div class="footer-content">
                <p>üéÆ Painani del Conocimiento - Escuela Superior de Guerra</p>
                <p>Versi√≥n 2.0 | 2025</p>
                <a href="/" class="btn-home">üè† Volver al Juego</a>
            </div>
        </footer>
    </div>

    <script>
        // Navegaci√≥n activa
        const sections = document.querySelectorAll('.manual-section');
        const navItems = document.querySelectorAll('.nav-item');

        window.addEventListener('scroll', () => {
            let current = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= (sectionTop - 200)) {
                    current = section.getAttribute('id');
                }
            });

            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === `#${current}`) {
                    item.classList.add('active');
                }
            });
        });

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>